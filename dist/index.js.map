{"version":3,"sources":["../src/index.tsx","../src/lightbox.tsx"],"sourcesContent":["import \"./global.css\";\n\nexport { default as Lightbox } from './lightbox';","\"use client\";\nimport React, { ReactNode, useState, useEffect } from \"react\";\n\n// Lightbox\nconst Lightbox = ({\n  children,\n  title,\n  src,\n  isOverlayClickable = true,\n  overlayClassName,\n  theme = \"dark\",\n  opacity = 60,\n  closeIconClassname,\n  allowDrag = true,\n  imageClassName,\n  titleMaxLength = 30,\n  titleClassName,\n  alt,\n}: {\n  children: ReactNode;\n  title: string;\n  src: string;\n  isOverlayClickable?: boolean;\n  overlayClassName?: string;\n  theme?: \"light\" | \"dark\";\n  opacity?: number;\n  closeIconClassname?: string;\n  allowDrag?: boolean;\n  imageClassName?: string;\n  titleMaxLength?: number;\n  titleClassName?: string;\n  alt: string;\n}) => {\n  const [open, setOpen] = useState(false);\n  const truncatedTitle =\n    title.length > titleMaxLength\n      ? title.slice(0, titleMaxLength) + \"...\"\n      : title;\n\n  useEffect(() => {\n    const handleEsc = (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        setOpen(false);\n      }\n    };\n\n    if (open) {\n      document.body.style.overflow = \"hidden\";\n      window.addEventListener(\"keydown\", handleEsc);\n    } else {\n      document.body.style.overflow = \"auto\";\n      window.removeEventListener(\"keydown\", handleEsc);\n    }\n\n    return () => {\n      document.body.style.overflow = \"auto\";\n      window.removeEventListener(\"keydown\", handleEsc);\n    };\n  }, [open]);\n\n  return (\n    <>\n      <div\n        className={`fixed inset-0 z-50 flex items-center justify-center transition-opacity duration-300 \n            ${open ? \"opacity-100\" : \"opacity-0 pointer-events-none\"}`}\n      >\n        <Overlay\n          isClickable={isOverlayClickable}\n          overlayClassname={overlayClassName}\n          opacity={opacity}\n          setOpen={setOpen}\n        />\n        <Frame\n          title={truncatedTitle}\n          theme={theme}\n          closeIconClassname={closeIconClassname}\n          setOpen={setOpen}\n          open={open}\n          titleClassName={titleClassName}\n        >\n          <MainImage\n            src={src}\n            alt={alt}\n            theme={theme}\n            allowDrag={allowDrag}\n            className={imageClassName}\n          />\n        </Frame>\n      </div>\n      <div onClick={() => setOpen(true)}>{children}</div>\n    </>\n  );\n};\n\nexport default Lightbox;\n\n// Lightbox overlay component\nconst Overlay = ({\n  isClickable,\n  opacity,\n  overlayClassname,\n  setOpen,\n}: {\n  isClickable?: boolean;\n  opacity: number;\n  overlayClassname?: string;\n  setOpen: (state: boolean) => void;\n}) => {\n  return (\n    <div\n      style={{ opacity: opacity / 100 }}\n      onClick={() => isClickable && setOpen(false)}\n      className={`fixed inset-0 bg-black transition-opacity duration-300 \n        ${overlayClassname || \"\"}`}\n    />\n  );\n};\n\n// Lightbox image component\nconst MainImage = ({\n  src,\n  theme,\n  allowDrag,\n  className,\n  alt,\n}: {\n  src: string; \n  theme: \"light\" | \"dark\";\n  allowDrag: boolean;\n  className?: string;\n  alt: string;\n}) => {\n\n  return (\n    <div className=\"relative w-full h-full flex items-center justify-center\">\n      <img\n        draggable={allowDrag}\n        alt={alt}\n        src={src}\n        className={`rounded-2xl border max-w-full max-h-full w-auto h-auto\n        ${theme === \"light\" ? \"border-[#f3f3f3]\" : \"border-[#262626]\"}\n        ${className || \"\"}`}\n        style={{\n          maxWidth: \"95vw\",\n          width: \"100%\",\n          height: \"auto\",\n          maxHeight: \"85vh\",\n          objectFit: \"contain\",\n        }}\n      />\n    </div>\n  );\n};\n\n// Lightbox frame component\nconst Frame = ({\n  children,\n  title,\n  theme,\n  closeIconClassname,\n  setOpen,\n  open,\n  titleClassName,\n}: {\n  children: ReactNode;\n  title: string;\n  theme?: \"light\" | \"dark\";\n  closeIconClassname?: string;\n  setOpen: (state: boolean) => void;\n  open: boolean;\n  titleClassName?: string;\n}) => {\n  return (\n    <div\n      className={`relative z-10 rounded-3xl py-5 px-2 pb-2 transform transition-all duration-300 \n            ${open ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\"} \n            ${theme === \"dark\" ? \"bg-[#171717]\" : \"bg-[#fcfcfc]\"}`}\n    >\n      <div className=\"flex items-center justify-between mb-2 pr-4 pl-5\">\n        <div\n          className={`text-lg font-medium \n            ${titleClassName}\n            ${theme === \"light\" ? \"text-black\" : \"text-white\"}`}\n        >\n          {title}\n        </div>\n        <button\n          onClick={() => setOpen(false)}\n          className={`rounded-md transition-all duration-200 p-1 \n            ${theme === \"light\" ? \"hover:bg-[#f3f3f3]\" : \"hover:bg-[#262626]\"}`}\n        >\n          <XIcon\n            className={`size-5 \n                ${theme === \"light\" ? \"text-black\" : \"text-white\"} \n                ${closeIconClassname || \"\"}`}\n          />\n        </button>\n      </div>\n      {children}\n    </div>\n  );\n};\n\n// X icon asset\nconst XIcon = (props: { className?: string }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className={props.className}\n    >\n      <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n      <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n    </svg>\n  );\n};"],"mappings":"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","names":[]}